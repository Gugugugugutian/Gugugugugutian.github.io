<!DOCTYPE html>
<html>
<head>
	<title>English Learing Website</title>
	<meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="main.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		audio {
			width: 100%;
		}
	</style>
</head>
<body>
    <h1>英语学习播放器</h1>
	<input type="text" id="fileInput" placeholder="Track ID">
	<button id="playButton">Load</button>

	<audio id="audio" controls>
		<source id="source" type="audio/mp3">
		Your browser does not support the audio element.
	</audio>
	<script>
		const audio = document.getElementById("audio");
		const source = document.getElementById("source");
		const fileInput = document.getElementById("fileInput");
		const playButton = document.getElementById("playButton");
		playButton.addEventListener("click", () => {
			const fileName = fileInput.value.trim();
			if (!fileName) return;
			source.src = "audio/Track "+fileName+".mp3";
			if (audio.readyState === 0) {
				audio.load();
			}
			audio.play()
				.catch(error => {
					alert(`Failed to play audio. Maybe there is a mistake on the filename.`);
				});
		});
	</script>

    <table id="playadjust">
        <tr>
            <td>
                <button id="adjbutm10">-10s</button>
            </td>
            <td>
                <button id="adjbutm5">-05s</button>
            </td>
            <td>
                <button id="adjbut5">+05s</button>
            </td>
            <td>
                <button id="adjbut10">+10s</button>
            </td>
        </tr>
    </table>

    <script>
        adjbut5.addEventListener("click",()=>{
            audio.currentTime+=5;
        });
        adjbut10.addEventListener("click",()=>{
            audio.currentTime+=10;
        });
        adjbutm5.addEventListener("click",()=>{
            audio.currentTime-=5;
        });
        adjbutm10.addEventListener("click",()=>{
            audio.currentTime-=10;
        });
    </script>


    <ul>
        <li><h3>Download Materials</h3></li>
        <li><h4>1-16</h4>Plays corresponding Tracks of official Listening Practice Set. <a href="doc/listening_practice_sets.pdf"> Download</a> here.</li>
        <li><h4>1t-6t</h4>Plays corresponding Tracks of official Practice Test (free edition). <a href="doc/TOEFL iBT Paper Edition Practice Test.pdf"> Download test paper </a>here and <a href="doc/Listening Transcripts.pdf">listening transcripts </a> here.
        You may also need <a href="doc/Writing Transcript.pdf">writing transcripts </a> here.</li>
    </ul>

    <div id="bottom">
        <ul>
          <li>By <a href="https://github.com/Gugugugugutian">gugugugugutian</a></li>
          <li>Chatgpt helped me a lot in html and javascript.</li>
          <li>Background picture from: <a href="images6.alphacoders.com">images6.alphacoders.com</a></li>
          <!-- The line below this line is for local developing use: -->
          <!-- <li>You may visit this site on the internet: <a href="https://gugugugugutian.github.io/a-chrome-homepage/">Click
              here.</a></li> -->
        </ul>
        <p>Thx a lot :)</p>
      </div>
</body>
</html>
